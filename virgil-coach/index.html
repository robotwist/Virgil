<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virgil Coach - Your Discrete Conversation Assistant</title>
    <meta name="description" content="AI-powered discrete conversation coaching for interviews, dating, and high-stakes conversations">
    
    <!-- PWA Meta -->
    <meta name="theme-color" content="#1a1a2e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Virgil Coach">
    
    <!-- Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Icons -->
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #fff;
            height: 100vh;
            overflow: hidden;
            user-select: none;
            -webkit-tap-highlight-color: transparent;
        }

        .app-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .app-container.hidden {
            opacity: 0;
            transform: scale(0.9);
            pointer-events: none;
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px 0;
        }

        .logo-image {
            max-width: 280px;
            width: 100%;
            height: auto;
            filter: drop-shadow(0 8px 16px rgba(0,0,0,0.3));
            margin: 0 auto;
            display: block;
        }

        .logo {
            font-size: 2.5rem;
            font-weight: 700;
            color: #fff;
            text-shadow: 0 4px 8px rgba(0,0,0,0.5);
            margin-bottom: 8px;
        }

        .subtitle {
            font-size: 1rem;
            color: rgba(255,255,255,0.8);
            font-weight: 300;
        }

        .mode-selector {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 12px;
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        .mode-card {
            background: linear-gradient(135deg, rgba(255,255,255,0.1), rgba(255,255,255,0.05));
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 16px;
            padding: 1.5rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.3);
        }

        .mode-card:hover {
            transform: translateY(-5px);
            background: linear-gradient(135deg, rgba(255,255,255,0.2), rgba(255,255,255,0.1));
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 12px 40px rgba(0,0,0,0.4);
        }

        .mode-card.active {
            border-color: #4CAF50;
            background: rgba(76, 175, 80, 0.2);
        }

        .mode-icon {
            font-size: 2rem;
            margin-bottom: 0.75rem;
            color: #fff;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 40px;
        }

        .mode-icon svg {
            color: inherit;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
            transition: all 0.3s ease;
        }

        .mode-card:hover .mode-icon svg {
            transform: scale(1.1);
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.4));
        }

        .mode-name {
            font-weight: 600;
            margin-bottom: 4px;
            font-size: 0.9rem;
        }

        .mode-desc {
            font-size: 0.7rem;
            opacity: 0.8;
            line-height: 1.3;
        }

        .coach-interface {
            flex-grow: 1;
            display: none;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            text-align: center;
        }

        .coach-interface.active {
            display: flex;
        }

        .status-indicator {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: radial-gradient(circle, #ff4757, #ff3838);
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 20px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .status-indicator.listening {
            animation: pulse 2s infinite;
            background: radial-gradient(circle, #4CAF50, #45a049);
        }

        .status-indicator.processing {
            background: radial-gradient(circle, #ff9500, #ff8c00);
            animation: spin 1s linear infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .status-text {
            color: white;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .mode-display {
            font-size: 1.2rem;
            margin-bottom: 10px;
            opacity: 0.9;
        }

        .last-advice {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 16px;
            margin: 20px 0;
            max-width: 400px;
            font-size: 0.9rem;
            line-height: 1.4;
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
        }

        .controls {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }

        .control-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            border-radius: 25px;
            padding: 12px 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .control-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px);
        }

        .control-btn:active {
            transform: translateY(-2px);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 15px;
        }

        .volume-slider {
            width: 120px;
            -webkit-appearance: none;
            appearance: none;
            height: 4px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 2px;
            outline: none;
        }

        .volume-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #4CAF50;
            border-radius: 50%;
            cursor: pointer;
        }

        .emergency-hint {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.7rem;
            opacity: 0.5;
            text-align: center;
        }

        .hidden-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 1000;
            display: none;
            align-items: center;
            justify-content: center;
        }

        .hidden-overlay.active {
            display: flex;
        }

        .hidden-indicator {
            color: #333;
            font-size: 0.8rem;
            text-align: center;
        }

        @media (max-width: 480px) {
            .mode-selector {
                grid-template-columns: repeat(2, 1fr);
                padding: 15px;
                gap: 10px;
            }
            
            .mode-card {
                padding: 12px;
            }
            
            .mode-icon {
                font-size: 1.5rem;
            }
            
            .status-indicator {
                width: 100px;
                height: 100px;
            }
            
            .logo-image {
                max-width: 240px;
            }
            
            .header {
                margin-bottom: 20px;
                padding: 15px 0;
            }
        }
    </style>
</head>
<body>
    <div class="app-container" id="appContainer">
        <!-- Header -->
        <div class="header">
            <img src="icons/Virgil-Logo-2.png" alt="Virgil" class="logo-image">
        </div>

        <!-- Mode Selection -->
        <div class="mode-selector" id="modeSelector">
            <div class="mode-card" data-mode="coding">
                <span class="mode-icon">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 12C8 9.79086 9.79086 8 12 8H36C38.2091 8 40 9.79086 40 12V36C40 38.2091 38.2091 40 36 40H12C9.79086 40 8 38.2091 8 36V12Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="12" cy="14" r="1.5" fill="currentColor"/>
                        <circle cx="16" cy="14" r="1.5" fill="currentColor"/>
                        <circle cx="20" cy="14" r="1.5" fill="currentColor"/>
                        <path d="M14 22L18 26L14 30" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <path d="M22 30H34" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                    </svg>
                </span>
                <div class="mode-name">Coding Interview</div>
                <div class="mode-desc">Technical guidance & algorithms</div>
            </div>
            
            <div class="mode-card" data-mode="political">
                <span class="mode-icon">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 38H40V40H8V38Z" fill="currentColor"/>
                        <path d="M16 24H32V38H16V24Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M12 28H20V32H12V28Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M28 28H36V32H28V28Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="24" cy="16" r="4" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M18 18C18 18 20 20 24 20C28 20 30 18 30 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M24 8V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M19.76 9.76L22.59 12.59" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M28.24 9.76L25.41 12.59" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                    </svg>
                </span>
                <div class="mode-name">Political Discussion</div>
                <div class="mode-desc">Navigate complex political conversations</div>
            </div>
            
            <div class="mode-card" data-mode="hr">
                <span class="mode-icon">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <circle cx="24" cy="14" r="6" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M18 24C18 21.7909 19.7909 20 22 20H26C28.2091 20 30 21.7909 30 24V28H18V24Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M16 32H32L30 40H18L16 32Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M20 24V20" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M28 24V20" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M22 12L26 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <circle cx="10" cy="10" r="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <circle cx="38" cy="10" r="3" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <path d="M10 13V16H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <path d="M38 13V16H34" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                    </svg>
                </span>
                <div class="mode-name">HR Interview</div>
                <div class="mode-desc">Professional coaching</div>
            </div>
            
            <div class="mode-card" data-mode="teacher">
                <span class="mode-icon">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8 12C8 10.8954 8.89543 10 10 10H38C39.1046 10 40 10.8954 40 12V32C40 33.1046 39.1046 34 38 34H10C8.89543 34 8 33.1046 8 32V12Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M14 18L20 24L26 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
                        <circle cx="32" cy="20" r="2" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M28 28H36" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M12 38H36" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <circle cx="18" cy="6" r="2" fill="currentColor"/>
                        <circle cx="24" cy="4" r="2" fill="currentColor"/>
                        <circle cx="30" cy="6" r="2" fill="currentColor"/>
                        <path d="M20 34V40" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                        <path d="M28 34V40" stroke="currentColor" stroke-width="2" stroke-linecap="round" fill="none"/>
                    </svg>
                </span>
                <div class="mode-name">Teacher Interview</div>
                <div class="mode-desc">Educational expertise</div>
            </div>
            
            <div class="mode-card" data-mode="cyrano">
                <span class="mode-icon">
                    <svg width="32" height="32" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M24 36C17.38 30.24 12 25.28 12 19C12 15.69 14.69 13 18 13C20.76 13 23.09 14.81 24 17.23C24.91 14.81 27.24 13 30 13C33.31 13 36 15.69 36 19C36 25.28 30.62 30.24 24 36Z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <circle cx="18" cy="17" r="1.5" fill="currentColor"/>
                        <circle cx="30" cy="17" r="1.5" fill="currentColor"/>
                        <path d="M12 24C10.8954 24 10 23.1046 10 22V18C10 16.8954 10.8954 16 12 16H16C17.1046 16 18 16.8954 18 18V20L14 24H12Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <path d="M36 24C37.1046 24 38 23.1046 38 22V18C38 16.8954 37.1046 16 36 16H32C30.8954 16 30 16.8954 30 18V20L34 24H36Z" stroke="currentColor" stroke-width="1.5" fill="none"/>
                        <path d="M20 8C20 8 22 6 24 6C26 6 28 8 28 8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" fill="none"/>
                    </svg>
                </span>
                <div class="mode-name">Cyrano de Bergerac</div>
                <div class="mode-desc">Romantic eloquence</div>
            </div>
        </div>

        <!-- Coaching Interface -->
        <div class="coach-interface" id="coachInterface">
            <div class="mode-display" id="modeDisplay">üíª Coding Interview Mode</div>
            
            <div class="status-indicator" id="statusIndicator">
                <span class="status-text" id="statusText">TAP TO START</span>
            </div>
            
            <div class="last-advice" id="lastAdvice">
                Select a mode and tap the circle to start listening...
            </div>
            
            <div class="controls">
                <button class="control-btn" id="backBtn">‚Üê Back to Modes</button>
                <button class="control-btn" id="hideBtn">Hide Interface</button>
                <button class="control-btn" id="muteBtn">üîä Mute</button>
            </div>
            
            <div class="volume-control">
                <span>üîä</span>
                <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="30">
                <span>Whisper Volume</span>
            </div>
        </div>
    </div>

    <!-- Hidden Overlay -->
    <div class="hidden-overlay" id="hiddenOverlay">
        <div class="hidden-indicator">
            <div>üé≠ Virgil Coach Active</div>
            <div style="margin-top: 8px;">Double-tap to show interface</div>
        </div>
    </div>

    <!-- Emergency Hint -->
    <div class="emergency-hint">
        Double-tap anywhere to emergency close
    </div>

    <script src="app.js"></script>
    <script>
        // Register service worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js')
                .then(reg => console.log('Service Worker registered'))
                .catch(err => console.log('Service Worker registration failed'));
        }
    </script>
</body>
</html> 